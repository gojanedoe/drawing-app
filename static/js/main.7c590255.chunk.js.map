{"version":3,"sources":["assets/menu-icon.svg","components/Header.js","components/CategorySelect.js","components/Intro.js","components/Photo.js","assets/info.svg","components/Credit.js","components/Timer.js","assets/right-arrow.svg","assets/left-arrow.svg","assets/play-icon.svg","assets/pause-icon.svg","components/Footer.js","components/PhotoGenerator.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","to","src","menuIcon","alt","CategorySelect","props","selectedCategory","setSelectedCategory","history","useHistory","formIsValid","handleInputChange","event","console","log","target","value","onSubmit","preventDefault","push","alert","type","name","checked","onChange","Intro","Photo","currentPhoto","imageUrl","imageDesc","Credit","photos","currentIndex","popoverRef","useRef","popover","Popover","style","color","Body","ref","attribution","href","licenseUrl","rel","license","wikiUrl","OverlayTrigger","trigger","placement","overlay","infoIcon","Timer","timerIsRunning","timerSeconds","setTimerSeconds","handleNextPhoto","resetTimer","useEffect","interval","setInterval","prevSeconds","clearInterval","Footer","useState","setTimerIsRunning","handleToggleTimer","prevIsRunning","initialTime","leftArrow","onClick","pauseButton","playButton","rightArrow","fetchPhotos","url","setPhotos","setFetchIsFinished","fetch","then","response","json","data","newData","Object","values","query","pages","map","photo","imageInfo","imageinfo","imageMetadata","extmetadata","cleanImageDesc","hasOwnProperty","ImageDescription","replace","Author","Artist","Attribution","credit","copyrighted","Copyrighted","descriptionshorturl","LicenseShortName","LicenseUrl","allMetadata","prevState","arr","newArr","i","length","ranIndex","Math","floor","random","shufflePhotos","concat","PhotoGenerator","fetchIsFinished","setCurrentIndex","catch","err","error","cacheImage","currI","nextImg","Image","undefined","next","prevIndex","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.7c590255.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/menu-icon.47389104.svg\";","import menuIcon from '../assets/menu-icon.svg';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <header>\n      <Link className=\"site-title\" to=\"/\">\n        Draw This!\n      </Link>\n      <div className=\"button-container\">\n        <button className=\"menuButton\">\n          <img src={menuIcon} alt=\"Open menu\" />\n        </button>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { useHistory } from 'react-router-dom';\n\nconst CategorySelect = (props) => {\n  const { selectedCategory, setSelectedCategory } = props;\n  let history = useHistory();\n  let formIsValid = false;\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    console.log('selected category: ', selectedCategory);\n\n    // Check form validity\n    if (selectedCategory !== '') {\n      formIsValid = true;\n    }\n\n    // If category is selected, go to next page\n    if (formIsValid) {\n      history.push('/app');\n    } else {\n      alert('Please select a subject category.');\n    }\n  };\n\n  const handleInputChange = (event) => {\n    console.log(event.target.value);\n    setSelectedCategory(event.target.value);\n  };\n\n  return (\n    <form onSubmit={submitHandler}>\n      <label className=\"btn btn-light\">\n        <input\n          type=\"radio\"\n          value=\"Featured_pictures_of_people\"\n          name=\"category\"\n          checked={selectedCategory === 'Featured_pictures_of_people'}\n          onChange={handleInputChange}\n        />\n        <span>People</span>\n      </label>\n      <label className=\"btn btn-light\">\n        <input\n          type=\"radio\"\n          value=\"Featured_pictures_of_architecture\"\n          name=\"category\"\n          checked={selectedCategory === 'Featured_pictures_of_architecture'}\n          onChange={handleInputChange}\n        />\n        <span>Architecture</span>\n      </label>\n      <label className=\"btn btn-light\">\n        <input\n          type=\"radio\"\n          value=\"Featured_pictures_of_landscapes\"\n          name=\"category\"\n          checked={selectedCategory === 'Featured_pictures_of_landscapes'}\n          onChange={handleInputChange}\n        />\n        <span>Landscapes</span>\n      </label>\n      <button type=\"submit\" className=\"btn btn-primary\">\n        Start\n      </button>\n    </form>\n  );\n};\n\nexport default CategorySelect;\n","import CategorySelect from './CategorySelect';\n\nconst Intro = (props) => {\n  const { selectedCategory, setSelectedCategory } = props;\n\n  return (\n    <div className=\"container\">\n      <main>\n        <h1>Welcome</h1>\n        <p>Draw This! is an image reference generator for artists.</p>\n        <p>\n          Choose the subject you'd like to draw below, and click \"Start\" to\n          begin.\n        </p>\n        <CategorySelect\n          selectedCategory={selectedCategory}\n          setSelectedCategory={setSelectedCategory}\n        />\n      </main>\n    </div>\n  );\n};\n\nexport default Intro;\n","const Photo = (props) => {\n  const { currentPhoto } = props;\n  return (\n    <div className=\"photo-container\">\n      <img\n        src={currentPhoto.imageUrl}\n        className=\"photo\"\n        alt={currentPhoto.imageDesc}\n      />\n    </div>\n  );\n};\n\nexport default Photo;\n","export default __webpack_public_path__ + \"static/media/info.fe92df14.svg\";","import { useRef } from 'react';\nimport infoIcon from '../assets/info.svg';\n\nimport Popover from 'react-bootstrap/Popover';\nimport { OverlayTrigger } from 'react-bootstrap';\n\nconst Credit = (props) => {\n  const { photos, currentIndex } = props;\n  const popoverRef = useRef(null);\n\n  const popover = (\n    <Popover style={{ color: 'black' }}>\n      <Popover.Body ref={popoverRef}>\n        <span className=\"credit-title\">Credit: </span>\n        {photos[currentIndex].attribution}\n        <br />\n        <span className=\"credit-title\">License: </span>\n        <a\n          href={photos[currentIndex].licenseUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          {photos[currentIndex].license}\n        </a>\n        <br />\n        <span className=\"credit-title\">Source: </span>\n        <a href={photos[currentIndex].wikiUrl} target=\"_blank\" rel=\"noreferrer\">\n          Wikimedia Commons\n        </a>\n      </Popover.Body>\n    </Popover>\n  );\n\n  return (\n    <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={popover}>\n      <button className=\"infoButton\">\n        <img\n          src={infoIcon}\n          alt=\"The letter 'i' in a circle\"\n          aria-label=\"Open image information\"\n        />\n      </button>\n    </OverlayTrigger>\n  );\n};\n\nexport default Credit;\n","import { useEffect } from 'react';\n\nconst Timer = (props) => {\n  const {\n    timerIsRunning,\n    timerSeconds,\n    setTimerSeconds,\n    handleNextPhoto,\n    resetTimer\n  } = props;\n\n  // Referenced from https://upmostly.com/tutorials/build-a-react-timer-component-using-hooks\n  useEffect(() => {\n    let interval = null;\n\n    if (timerIsRunning && timerSeconds !== 0) {\n      interval = setInterval(() => {\n        setTimerSeconds((prevSeconds) => prevSeconds - 1);\n      }, 1000);\n    } else if (timerIsRunning && timerSeconds <= 0) {\n      handleNextPhoto('Next');\n      resetTimer();\n    } else if (!timerIsRunning && timerSeconds !== 0) {\n      clearInterval(interval);\n    }\n\n    // Clear interval if the component is unmounted\n    return () => clearInterval(interval);\n  }, [timerIsRunning, timerSeconds]);\n\n  return <div className=\"Timer\">:{timerSeconds}</div>;\n};\n\nexport default Timer;\n","export default __webpack_public_path__ + \"static/media/right-arrow.94137a21.svg\";","export default __webpack_public_path__ + \"static/media/left-arrow.a99bd7b1.svg\";","export default __webpack_public_path__ + \"static/media/play-icon.5529aa1c.svg\";","export default __webpack_public_path__ + \"static/media/pause-icon.61e888f4.svg\";","import { useState } from 'react';\n\nimport Credit from './Credit';\nimport Timer from './Timer';\n\nimport rightArrow from '../assets/right-arrow.svg';\nimport leftArrow from '../assets/left-arrow.svg';\nimport playButton from '../assets/play-icon.svg';\nimport pauseButton from '../assets/pause-icon.svg';\n\nconst Footer = (props) => {\n  const { handleNextPhoto, photos, currentIndex } = props;\n  const [timerIsRunning, setTimerIsRunning] = useState(false);\n\n  const initialTime = 15;\n  const [timerSeconds, setTimerSeconds] = useState(initialTime); // countdown time in seconds\n\n  const handleToggleTimer = () => {\n    setTimerIsRunning((prevIsRunning) => !prevIsRunning);\n  };\n\n  const resetTimer = () => {\n    setTimerSeconds(initialTime);\n  };\n\n  return (\n    <footer>\n      <Credit photos={photos} currentIndex={currentIndex}></Credit>\n      <div className=\"button-container vertical\">\n        <Timer\n          timerIsRunning={timerIsRunning}\n          setTimerIsRunning={setTimerIsRunning}\n          timerSeconds={timerSeconds}\n          setTimerSeconds={setTimerSeconds}\n          initialTime={initialTime}\n          handleNextPhoto={handleNextPhoto}\n          resetTimer={resetTimer}\n        />\n        <div className=\"button-container\">\n          <button className=\"arrowButton\">\n            <img\n              src={leftArrow}\n              alt=\"Left arrow\"\n              aria-label=\"Go to previous image\"\n              onClick={() => {\n                handleNextPhoto('Back');\n                resetTimer();\n              }}\n            />\n          </button>\n          <button className=\"playButton\">\n            {timerIsRunning ? (\n              <img\n                src={pauseButton}\n                alt=\"Pause icon\"\n                aria-label=\"Pause timer\"\n                onClick={handleToggleTimer}\n              />\n            ) : (\n              <img\n                src={playButton}\n                alt=\"Play icon\"\n                aria-label=\"Start timer\"\n                onClick={handleToggleTimer}\n              />\n            )}\n          </button>\n          <button className=\"arrowButton\">\n            <img\n              src={rightArrow}\n              alt=\"Right arrow\"\n              aria-label=\"Go to next image\"\n              onClick={() => {\n                handleNextPhoto('Next');\n                resetTimer();\n              }}\n            />\n          </button>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import { useState, useEffect } from 'react';\nimport Photo from './Photo';\nimport Footer from './Footer';\n\n// Fetch photos once in single batch\nfunction fetchPhotos(url, setPhotos, setFetchIsFinished) {\n  return fetch(url)\n    .then((response) => response.json())\n    .then((data) => {\n      console.log(data);\n\n      // Clean up json data before saving it to state\n      let newData = Object.values(data.query.pages).map((photo) => {\n        let imageInfo = photo.imageinfo[0];\n        let imageMetadata = imageInfo.extmetadata;\n\n        // Remove any HTML tags from image description\n        let cleanImageDesc = null;\n        if (imageMetadata.hasOwnProperty('ImageDescription')) {\n          let origImageDesc = imageMetadata.ImageDescription.value;\n          cleanImageDesc = origImageDesc.replace(/<[^>]*>?/gm, '');\n        }\n\n        // Set photo credit name for attribution\n        let attribution = 'Not available';\n        if (imageMetadata.hasOwnProperty('Author')) {\n          console.log('Has Author prop');\n          attribution = imageMetadata.Author.value;\n        } else if (imageMetadata.hasOwnProperty('Artist')) {\n          console.log('Has Artist prop');\n          attribution = imageMetadata.Artist.value;\n        } else if (imageMetadata.hasOwnProperty('Attribution')) {\n          console.log('Has Attribution prop');\n          attribution = imageMetadata.Attribution.value;\n        }\n        // Remove any HTML tags\n        attribution = attribution.replace(/<[^>]*>?/gm, '');\n\n        // Set credit name + remove any HTML tags\n        let credit = null;\n        if (imageMetadata.hasOwnProperty('Credit')) {\n          credit = imageMetadata.Credit.value;\n          credit = credit.replace(/<[^>]*>?/gm, '');\n        }\n\n        // Set if copyrighted or not\n        let copyrighted = null;\n        if (\n          imageMetadata.hasOwnProperty('Copyrighted') &&\n          imageMetadata.Copyrighted.value === 'True'\n        ) {\n          copyrighted = true;\n        } else {\n          console.log(\n            \"No 'True' in Copyrighted, instead was given: \",\n            imageMetadata.Copyrighted.value\n          );\n          copyrighted = false;\n        }\n\n        // Set License Url\n        if (imageMetadata.hasOwnProperty('LicenseUrl')) {\n        } else {\n          console.log(\n            'No license Url, instead, here is whole image info \\n',\n            imageInfo\n          );\n        }\n\n        return {\n          imageUrl: imageInfo.url,\n          imageDesc: cleanImageDesc,\n          wikiUrl: imageInfo.descriptionshorturl,\n          license: imageMetadata.LicenseShortName.value,\n          licenseUrl: imageMetadata.hasOwnProperty('LicenseUrl')\n            ? imageMetadata.LicenseUrl.value\n            : null,\n          attribution: attribution,\n          credit: credit,\n          copyrighted: copyrighted,\n          allMetadata: imageMetadata\n        };\n      });\n\n      // Combine image data, shuffle, & save in state\n      setPhotos((prevState) => shufflePhotos(prevState.concat(newData)));\n      setFetchIsFinished(true);\n    });\n}\n\nfunction shufflePhotos(arr) {\n  let newArr = arr;\n\n  // Use Durstenfeld algorithm to shuffle\n  for (let i = newArr.length - 1; i > 0; i--) {\n    var ranIndex = Math.floor(Math.random() * (i + 1));\n    [newArr[i], newArr[ranIndex]] = [newArr[ranIndex], newArr[i]];\n  }\n\n  return newArr;\n}\n\n// MAIN COMPONENT\nconst PhotoGenerator = (props) => {\n  const { selectedCategory } = props;\n\n  const [photos, setPhotos] = useState([]);\n  const [fetchIsFinished, setFetchIsFinished] = useState(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  useEffect(() => {\n    let url =\n      'https://commons.wikimedia.org/w/api.php?action=query&generator=categorymembers&gcmtype=file&gcmtitle=Category:Featured_pictures_of_landscapes&prop=imageinfo&gcmlimit=50&iiprop=url|extmetadata|size&format=json&origin=*';\n\n    // If category is selected, change url from default\n    if (selectedCategory !== '') {\n      url =\n        'https://commons.wikimedia.org/w/api.php?action=query&generator=categorymembers&gcmtype=file&gcmtitle=Category:' +\n        selectedCategory +\n        '&prop=imageinfo&gcmlimit=50&iiprop=url|extmetadata|size&format=json&origin=*';\n    }\n\n    if (!fetchIsFinished) {\n      fetchPhotos(url, setPhotos, setFetchIsFinished) //get returned promise from fetch\n        .catch((err) => console.error('Fetch error:', err));\n    }\n  }, []);\n\n  // Pre-load next image into the cache\n  useEffect(() => {\n    if (fetchIsFinished) {\n      cacheImage(currentIndex);\n    }\n  }, [fetchIsFinished, currentIndex]);\n\n  const cacheImage = (currI) => {\n    console.log('loading image ', currentIndex + 1);\n\n    const nextImg = new Image();\n\n    // Cache first image if on last image\n    if (currI >= photos.length - 1) {\n      nextImg.src = photos[0].imageUrl;\n    }\n    // Otherwise, go to next image as usual\n    else {\n      nextImg.src = photos[currI + 1].imageUrl;\n    }\n  };\n\n  // Respond to back and forward button clicks for photo\n  const handleNextPhoto = (next) => {\n    switch (next) {\n      case 'Next':\n        setCurrentIndex((prevIndex) => (prevIndex + 1) % photos.length);\n        console.log('going to next photo');\n        break;\n      case 'Back':\n        setCurrentIndex((prevIndex) => (prevIndex === 0 ? 0 : prevIndex - 1));\n        console.log('going to last photo');\n        break;\n    }\n    console.log('Last index: ', currentIndex);\n  };\n\n  // Show loading text if fetch is not finished\n  if (photos === undefined || photos.length === 0 || !fetchIsFinished) {\n    return (\n      <div className=\"App loading-container\">\n        <p className=\"loading-text\">Fetching images</p>\n      </div>\n    );\n  }\n\n  // If fetch is finished, return full app\n  return (\n    <div className=\"App\">\n      {console.log(photos[currentIndex])}\n      <Photo currentPhoto={photos[currentIndex]} />\n      <Footer\n        handleNextPhoto={handleNextPhoto}\n        photos={photos}\n        currentIndex={currentIndex}\n      />\n    </div>\n  );\n};\n\nexport default PhotoGenerator;\n","import { useState } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport './App.css';\n\nimport Header from './components/Header';\nimport Intro from './components/Intro';\nimport PhotoGenerator from './components/PhotoGenerator';\n\n// MAIN COMPONENT\nconst App = () => {\n  const [selectedCategory, setSelectedCategory] = useState('');\n\n  // If fetch is finished, return full app\n  return (\n    <div className=\"App\">\n      <Header />\n      <Route path=\"/\" exact>\n        <Intro\n          selectedCategory={selectedCategory}\n          setSelectedCategory={setSelectedCategory}\n        />\n      </Route>\n      <Route path=\"/app\">\n        <PhotoGenerator selectedCategory={selectedCategory} />\n      </Route>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/drawing-app\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}